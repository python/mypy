[case testScopeOptionalIntResolution]
from typing import Optional

x: Optional[int] = None
y: Optional[int] = None

def f() -> None:
    x = 1
    y = 1
    class C:
        reveal_type(x)  # should be int
        reveal_type(y)  # should be Optional[int]
        x = 2

[out]
note: Revealed type is "builtins.int"
note: Revealed type is "Union[builtins.int, None]"
