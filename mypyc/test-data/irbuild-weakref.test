[case testWeakrefRef]
import weakref
from typing import Any, Callable
def f(x: object) -> object:
    return weakref.ref(x)()

[out]
def f(x):
    x :: object
    r0 :: weakref.ReferenceType
    r1 :: object
L0:
    r0 = PyWeakref_NewRef(x, 0)
    r1 = PyWeakref_GetRef(r0)
    return r1

[case testWeakrefRefCallback]
import weakref
from typing import Any, Callable
def f(x: object, cb: Callable[[object], Any]) -> object:
    return weakref.ref(x, cb)()

[out]
def f(x, cb):
    x, cb :: object
    r0 :: weakref.ReferenceType
    r1 :: object
L0:
    r0 = PyWeakref_NewRef(x, cb)
    r1 = PyWeakref_GetRef(r0)
    return r1

[case testFromWeakrefRef]
from typing import Any, Callable
from weakref import ref
def f(x: object) -> object:
    return ref(x)()

[out]
def f(x):
    x :: object
    r0 :: weakref.ReferenceType
    r1 :: object
L0:
    r0 = PyWeakref_NewRef(x, 0)
    r1 = PyWeakref_GetRef(r0)
    return r1

[case testFromWeakrefRefCallback]
from typing import Any, Callable
from weakref import ref
def f(x: object, cb: Callable[[object], Any]) -> object:
    return ref(x, cb)()

[out]
def f(x, cb):
    x, cb :: object
    r0 :: weakref.ReferenceType
    r1 :: object
L0:
    r0 = PyWeakref_NewRef(x, cb)
    r1 = PyWeakref_GetRef(r0)
    return r1
